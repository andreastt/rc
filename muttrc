set realname = "Andreas Tolfsen"
set from = ato@mozilla.com
set use_from = yes

set mbox_type = Maildir
set folder = ~/Mail
set mbox = ~/Mail
set spoolfile = ~/Mail/INBOX
set record = ~/Mail/Sent
set postponed = ~/Mail/Drafts

set smtp_url = smtps://atolfsen@mozilla.com@smtp.mozilla.org/
set ssl_force_tls = yes
set ssl_starttls = yes
set hostname = mozilla.com
set user_agent = no
set copy
set send_charset = utf-8
set fast_reply

unhdr_order *
hdr_order From: To: Reply-To: CC: BCC: Date: Subject: X-Mailer: User-Agent:
my_hdr Bcc: Andreas Tolfsen <ato@mozilla.com>

set edit_headers
ignore *
unignore Subject: Date: From: Reply-To: To: CC: BCC: X-Mailer: User-Agent:

set sort = threads
set nostrict_threads  # happily thread by Subject and In-Reply-To
set hidden_host
set copy
set record = "=Sent"
set postponed = "=Drafts"
set delete = ask-yes
set include = yes
set forward_format = "Fwd: %s"
set sort_aux = date-received
set abort_nosubject = yes
set abort_unmodified = yes
set mime_forward = ask-no
set postpone = ask-yes
set print = ask-yes
set quit = ask-yes
set recall = no
set reply_to = yes
set pager_stop
set pager_index_lines = 15
set timeout = 60
set mail_check = 3
set nomark_old
unset mark_old

auto_view *
mime_lookup application/octet-stream
mime_lookup text/plain
alternative_order text/plain text/enriched text/html
push *

# Keys
bind	index	J	next-page
bind	index	K	previous-page
bind	index	x	sync-mailbox
bind	index	\Ca	first-entry
bind	index	\Ce	last-entry
#bind	index	G	bottom
#bind	pager	G	bottom
#bind	browser G	bottom

# Switches immediately to the folder list
macro index c "<change-folder>?<toggle-mailboxes>" "open a different folder"
macro pager c "<change-folder>?<toggle-mailboxes>" "open a different folder"

# autoview
auto_view application/zip
auto_view application/x-gzip
auto_view application/x-gunzip
auto_view application/pgp-signature
auto_view application/pgp
auto_view application/octet-stream
auto_view application/x-zip-compressed
auto_view application/vnd.ms-powerpoint
auto_view application/vnd.ms-excel
auto_view application/x-arj-compressed
auto_view application/x-tar-gz
auto_view application/ms-tnef
auto_view application/x-perl
auto_view application/x-sh
auto_view application/x-tcl
auto_view application/x-delphi-source
auto_view application/emacs-lisp
auto_view application/msword
auto_view application/pdf
auto_view text/x-patch
auto_view text/html
auto_view text/HTML
auto_view text/x-vcard
auto_view text/x-script.elisp
auto_view text/x-lisp
auto_view text/x-diff
auto_view image/*

# Look
set index_format = "%Z %{%b %d} %-30.30L %s"
set attribution = "%n <%a>:"
set markers = no  # + sign if lines are too longer for pager

set sidebar_visible = no
set sidebar_width = 20
set sidebar_sort = no
set sidebar_delim = " "
macro index b "<enter-command>toggle sidebar_visible<enter><refresh>"
macro pager b "<enter-command>toggle sidebar_visible<enter><refresh>"

mailboxes `echo ~/Mail/*`

color sidebar_new yellow default

bind index \Cp sidebar-prev
bind index \Cn sidebar-next
bind index \Co sidebar-open
bind pager \Cp sidebar-prev
bind pager \Cn sidebar-next
bind pager \Co sidebar-open

# Derived from: ataualpa.altervista.org (Il nirvana con mutt)
# COLORS FOR BLACK BACKGROUND
# colors:
# white
# brightwhite
# black
# green
# magenta
# blue
# cyan
# yellow
# brightyellow
# red
# brightred
# default (transparent)
# colorx
# color0 = black
# color1 = red
# color2 = green
# color3 = black
# color4 = blue
# color5 = violet
# color6 = cyan
# color7 = gray
# color8 = none
# color9 = none
 
# text colors - general functions
color normal    black		default		# normal text
color status    black		color15		# status bar, last and first row
color search    brightyellow	red		# search results
color message   black		default		# information messages, last row
color error     brightred	default		# error messages, last row
color markers   brightred	default		# the + sign at the start of broken lines
 
# text colors - message index and attachment menu
color indicator	black		color15		# current message selected
color tree	black		default		# Threads' arrow
color index	brightred	default ~F	# important messages    ! flag - command "F"
color index	green		default ~N	# new messages      N flag - command "N"
color index	magenta		default ~T	# tagged messages   * flag - command "t"
color index	green		default ~U	# unread messages
color index	brightblue	default ~D	# deleted messages      D flag - commands "d"/"u"
 
# text colors - pager
color hdrdefault	black		color15	# headers
color bold		green		default	# bold on mails' body
color underline		yellow		default	# underlined
color attachment	color5		default	# attachments
color signature		color15		default	# signature
color tilde		blue		default	# ~ at the end of messages
color body		brightblue	default "(https?|ftp|gopher|finger)://([^"'"'"' \t\r\n)>.,!?&]\
|[.,!?][^"'"'"' \t\r\n)>.,!?&]|&([^g]|$)|&g([^t]|$)|&gt([^;]|$))+"

# enphasized text
color body	green	default "[*][-[:alnum:]]+[*]"
color body	green	default "[ ]_[-[:alnum:]]+_([ ]|\.)"

