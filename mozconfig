# mozconfig gets sourced by configure and client.mk
# but unless we save the variable (during configure),
# it's not going to be exposed to the make environment
mk_add_options 'export CCACHE_PREFIX=icecc'
mk_add_options AUTOCLOBBER=1
mk_add_options MOZ_MAKE_FLAGS="-j100"

export CC=gcc
export CXX=g++

ac_add_options --with-ccache
ac_add_options --enable-rust

CARGO=/home/ato/.cargo/bin/cargo

# Marionette tests depend on various resource files
# that are guarded for inclusion in testing/marionette/manifest.jar
# by the TEST ifdef
#ac_add_options --disable-tests

ac_add_options --enable-application=browser
#ac_add_options --enable-artifact-builds

# debug
#ac_add_options --enable-debug
#ac_add_options --enable-debug-symbols
#ac_add_options --disable-optimize

# fennec
#ac_add_options --enable-application=mobile/android
#ac_add_options --target=arm-linux-androideabi
#ac_add_options --with-android-sdk="/home/ato/.mozbuild/android-sdk-linux"
#ac_add_options --with-android-ndk="/home/ato/.mozbuild/android-ndk-r11b"

ac_add_options --enable-official-branding

# change output directory
#mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/../build/artifact-desktop-release
